(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{15:function(e,t,a){e.exports=a(25)},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a(3),c=a(1),d=a(5),l=a(4),s=a(0),r=a.n(s),h=a(14),i=a.n(h),u=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).task=e.task,o.handleRemove=o.handleRemove.bind(Object(c.a)(o)),o.handleCheck=o.handleCheck.bind(Object(c.a)(o)),o}return Object(o.a)(a,[{key:"handleRemove",value:function(e){this.props.handleRemove(e.target.parentElement.getAttribute("data-key"))}},{key:"handleCheck",value:function(e){this.props.handleCheck(e.target.parentElement.getAttribute("data-key"))}},{key:"render",value:function(){var e=this.task;return r.a.createElement("li",{className:this.props.className,"data-key":e.id},e.done?r.a.createElement("input",{type:"checkbox",onChange:this.handleCheck,defaultChecked:!0}):r.a.createElement("input",{type:"checkbox",onChange:this.handleCheck}),r.a.createElement("p",null,e.name),r.a.createElement("button",{onClick:this.handleRemove}," delete"))}}]),a}(r.a.Component),v=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={value:"Nome da nova tarefa..."},o.handleChange=o.handleChange.bind(Object(c.a)(o)),o.handleButton=o.handleButton.bind(Object(c.a)(o)),o}return Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleButton",value:function(e){e.preventDefault(),this.props.addElement(this.state.value)}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleButton},r.a.createElement("input",{placeholder:this.state.value,onChange:this.handleChange}),r.a.createElement("button",null," add "))}}]),a}(r.a.Component),m=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).handleAdd=o.handleAdd.bind(Object(c.a)(o)),o.handleRemove=o.handleRemove.bind(Object(c.a)(o)),o.handleCheck=o.handleCheck.bind(Object(c.a)(o)),o.handleBack=o.handleBack.bind(Object(c.a)(o)),o}return Object(o.a)(a,[{key:"handleAdd",value:function(e){this.props.handleAdd(e)}},{key:"handleRemove",value:function(e){this.props.handleRemove(e)}},{key:"handleCheck",value:function(e){this.props.handleCheck(e)}},{key:"handleBack",value:function(){this.props.handleBack()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"tasks"},r.a.createElement("header",null,r.a.createElement("h2",null,this.props.projectName),r.a.createElement("h2",null,"Tasks"),r.a.createElement("button",{onClick:this.handleBack})),r.a.createElement(v,{addElement:this.handleAdd}),r.a.createElement("ul",null,this.props.tasks?this.props.tasks.map((function(t){return r.a.createElement(u,{task:t,className:"task-item",handleRemove:e.handleRemove,handleCheck:e.handleCheck,key:t.id})})):r.a.createElement("h2",null,"No tasks to show.")))}}]),a}(r.a.Component),p=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).project=o.props.project,o.handleRemove=o.handleRemove.bind(Object(c.a)(o)),o.handleNavigation=o.handleNav.bind(Object(c.a)(o)),o}return Object(o.a)(a,[{key:"handleRemove",value:function(e){this.props.handleRemove(e.target.parentElement.getAttribute("data-key"))}},{key:"handleNav",value:function(e){var t=e.target;t.classList.contains("delete-btn")||(t.getAttribute("data-key")?this.props.handleNav(t.getAttribute("data-key")):t.parentElement.getAttribute("data-key")&&this.props.handleNav(t.parentElement.getAttribute("data-key")))}},{key:"render",value:function(){return r.a.createElement("li",{"data-key":this.project.id,className:"project-item",onClick:this.handleNavigation},r.a.createElement("p",null,this.project.name),r.a.createElement("button",{className:"delete-btn",onClick:this.handleRemove},"delete"))}}]),a}(r.a.Component),k=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={value:"Nome do novo projeto..."},o.handleChange=o.handleChange.bind(Object(c.a)(o)),o.handleButton=o.handleButton.bind(Object(c.a)(o)),o}return Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleButton",value:function(e){e.preventDefault(),this.props.handleAdd(this.state.value)}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleButton},r.a.createElement("input",{placeholder:this.state.value,onChange:this.handleChange}),r.a.createElement("button",null," add "))}}]),a}(r.a.Component),j=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).handleAdd=o.handleAdd.bind(Object(c.a)(o)),o.handleRemove=o.handleRemove.bind(Object(c.a)(o)),o.handleNav=o.handleNav.bind(Object(c.a)(o)),o}return Object(o.a)(a,[{key:"handleAdd",value:function(e){this.props.handleAdd(e)}},{key:"handleRemove",value:function(e){this.props.handleRemove(e)}},{key:"handleNav",value:function(e){this.props.handleNav(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"projects"},r.a.createElement("h2",null,"Projects"),r.a.createElement(k,{handleAdd:this.handleAdd}),r.a.createElement("ol",null,this.props.projects.map((function(t){return r.a.createElement(p,{className:"project-item",project:t,handleRemove:e.handleRemove,handleNav:e.handleNav,key:t.id})}))))}}]),a}(r.a.Component),b=a(8),f=a.n(b);a(20);f.a.initializeApp({apiKey:"AIzaSyCqA-Q7-ugQSpx03MbAWyul7gMu2JnHTbI",authDomain:"to-do-react-10320.firebaseapp.com",databaseURL:"https://to-do-react-10320.firebaseio.com",projectId:"to-do-react-10320",storageBucket:"to-do-react-10320.appspot.com",messagingSenderId:"877841554206",appId:"1:877841554206:web:29d753367ea5633ad3c70f"});var O=function(){var e=f.a.firestore().collection("projects");return{getProjects:function(){return new Promise((function(t){var a=[];e.get().then((function(n){n.docs.forEach((function(t){var n=t.id,o=[],c={id:n,name:t.data().name};e.doc(n).collection("tasks").get().then((function(e){e.docs.forEach((function(e){o.push({id:e.id,name:e.data().name,done:e.data().done})}))})),c.tasks=o,a.push(c)})),t(a)}))}))},saveProjects:function(t){return new Promise((function(a){e.add({name:t.name}).then((function(e){a(e.id)}))}))},saveTasks:function(t,a){return new Promise((function(n){e.doc(t.id).collection("tasks").add({name:a.name}).then((function(e){n(e.id)}))}))},deleteTask:function(t,a){e.doc(t).collection("tasks").doc(a).delete()},deleteProject:function(t){e.doc(t).delete()},updateTask:function(t,a,n){e.doc(t).collection("tasks").doc(a).update({done:n})}}}(),y=(a(23),a(24),function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={projects:[],shownProject:null},o.handleRemoveProject=o.handleRemoveProject.bind(Object(c.a)(o)),o.handleNavProject=o.handleNavProject.bind(Object(c.a)(o)),o.handleAddProject=o.handleAddProject.bind(Object(c.a)(o)),o.handleAddTask=o.handleAddTask.bind(Object(c.a)(o)),o.handleRemoveTask=o.handleRemoveTask.bind(Object(c.a)(o)),o.handleCheckTask=o.handleCheckTask.bind(Object(c.a)(o)),o.handleBack=o.handleBack.bind(Object(c.a)(o)),o}return Object(o.a)(a,[{key:"handleAddProject",value:function(e){var t=this;O.saveProjects({name:e}).then((function(a){var n=t.state.projects;n.push({name:e,id:a}),t.setState({projects:n})}))}},{key:"handleRemoveProject",value:function(e){var t=this.state.projects;t=t.filter((function(t){return String(t.id)!==String(e)})),this.setState({projects:t}),O.deleteProject(e)}},{key:"handleNavProject",value:function(e){var t=this.state.projects.find((function(t){return String(t.id)===String(e)}));this.setState({shownProject:t})}},{key:"handleAddTask",value:function(e){var t=this,a=this.state.shownProject,n=this.state.shownProject.tasks||[];O.saveTasks(a,{name:e}).then((function(o){n.push({name:e,id:o,done:!1}),a.tasks=n,a.id=o,t.setState({shownProject:a,idCounterTask:o})}))}},{key:"handleRemoveTask",value:function(e){var t=this.state.shownProject,a=this.state.shownProject.tasks;a=a.filter((function(t){return String(t.id)!==String(e)})),t.tasks=a,this.setState({shownProject:t}),O.getElementByIddeleteTask(t.id,e)}},{key:"handleCheckTask",value:function(e){var t=this.state.shownProject,a=this.state.shownProject.tasks,n=a.find((function(t){return String(t.id)===String(e)}));n.done=!n.done,t.tasks=a,this.setState({shownProject:t}),O.updateTask(t.id,e,n.done)}},{key:"handleBack",value:function(){this.setState({shownProject:null})}},{key:"componentDidMount",value:function(){var e=this;O.getProjects().then((function(t){e.setState({projects:t})}))}},{key:"render",value:function(){return r.a.createElement(s.Fragment,null,r.a.createElement("h1",null,"To-do-App"),this.state.shownProject?r.a.createElement(m,{projectName:this.state.shownProject.name,tasks:this.state.shownProject.tasks,handleAdd:this.handleAddTask,handleRemove:this.handleRemoveTask,handleCheck:this.handleCheckTask,handleBack:this.handleBack}):r.a.createElement(j,{projects:this.state.projects,handleAdd:this.handleAddProject,handleRemove:this.handleRemoveProject,handleNav:this.handleNavProject}))}}]),a}(r.a.Component));i.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.58e024c0.chunk.js.map